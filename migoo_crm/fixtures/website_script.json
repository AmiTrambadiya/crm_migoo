[
 {
  "docstatus": 0,
  "doctype": "Website Script",
  "javascript": "// Website route\n// $(\".product-code\").html(\"display\",\"none\");\nif (location.pathname == \"/login\" && !location.search && !localStorage.getItem(\"session_last_route\")) {\n\n    $('form').on('submit', function (event) {\n        var abc = $('#login_email').val()\n        // alert(abc)\n        frappe.call({\n            method: \"check_user_role_profile\",\n            args: {\n                \"email\": abc,\n            },\n        }).then(records => {\n            // console.log(records)\n            var role = records[\"role\"]\n            // console.log(role)\n            if (role == \"Vendor\") {\n                const url = new URL(window.location);\n                url.searchParams.set('redirect-to', '/app/equipment');\n                window.history.pushState({}, '', url);\n            } else {\n                // Redirect to a different page if not a vendor\n                window.location.href = '/app';\n            }\n        });\n        event.preventDefault();\n    });\n}\n\nfrappe.ready(() => {\n    $('.footer-powered').addClass(\"hide\");\n    $('.web-footer').addClass('hide');\n    // $('.navbar-brand img').style.height = \"42px\";\n    // inquiry button color change\n    $(\".btn-inquiry\").css(\"background-color\", \"#ECAD4B\");\n    $(\".btn-inquiry\").css(\"color\", \"#ffffff\");\n    $(\".btn-inquiry\").css(\"font-weight\", \"bold\");\n    // $(\".btn-inquiry\").html(\"Booking Enquiry\");\n    // $(\".btn-list-view\").css(\"color\",\"red\");\n    // $(\"#dropdownMenuSearch\").attr(\"placeholder\", \"Search for Equipments\");\n    // $(\"#search-box\").attr(\"placeholder\", \"Search For Equipments\");\n    // $(document).ready(function(){ \n    //   $('form').find(\"input[type=search]\").each(function(ev)\n    //   {\n    //       if(!$(this).val()) { \n    //      $(this).attr(\"placeholder\", \"Search Equipments\");\n    //   }\n    //   });\n    // });\n    // $('#dropdownMenuSearch').hide(); //search\n    // $('.product-code').hide();\n    // $('.breadcrumb-item').hide();\n\n    // $(\".modal-title\").css(\"color\", \"#000!important\");\n\n    $('.dropdown-menu a:nth-child(1)').remove();\n});\n\n// var li = document.getElementsByTagName(\"span\");\n// for (i = 0; i < li.length; i++) {\n\n//     if (li[i].textContent === \"Shop by Category\") {\n//         document.title = 'All Equipments';\n//         li[i].innerHTML = \"All Equipments\"\n\n//     }\n// }\n\nvar li = document.getElementsByTagName(\"span\");\nfor (i = 0; i < li.length; i++) {\n\n    if (li[i].textContent === \"All Products\") {\n        document.title = 'All Equipments';\n        li[i].innerHTML = \"All Equipments\"\n        // $(\"li.breadcrumb-item a:nth-child(1)\").attr(\"href\",\"https://youtube.com\")\n        //  $(\"li.breadcrumb-item a:nth-child(2)\").attr(\"href\",\"https://dkcoder.com\")\n        var test = $(\"li.breadcrumb-item a\")[1]\n        test.setAttribute(\"href\", \"https://www.migoo.in/buy-equipment\");\n    }\n\n    else if (li[i].textContent === \"Shop by Category\") {\n        li[i].innerHTML = \"All Equipments\"\n        var test = $(\"li.breadcrumb-item a\")[1]\n        test.setAttribute(\"href\", \"https://www.migoo.in/buy-equipment\");\n        //  $(\"li.breadcrumb-item a:nth-child(1)\").attr(\"href\",\"https://youtube.com\")\n        //   $(\"li.breadcrumb-item a:nth-child(2)\").attr(\"href\",\"https://dkcoder.com\")\n    }\n}\n$('.clear-filters').css(\"color\", \"#111\")\n$('.item-cart').addClass('hide');\n$('.btn-styled').css({ 'font-weight': 'bold' });\n$('.product-code').append(\"<br><br><br>\")\n\n$('.product-code').append(\n    $(document.createElement('button')).prop({\n        type: 'button',\n        innerHTML: 'Buy Now',\n        class: 'btn btn-primary',\n        id: 'buy'\n    })\n);\n$('#buy').css(\"font-weight\", \"bold\")\n$('#buy').css(\"font-size\", \"14px\")\n$(\"#buy\").click(function () {\n    var code = $('.product-code span')[2].innerHTML\n    location.href = \"https://www.migoo.in/equipment-inquiry/\" + code + \"?title1=\" + code + \"\"\n\n});\n\n$('.product-item-code').hide()\n$(\".product-title.mb-5.mt-4\").html(\"Equipment Details\");\n$('.page-header-wrapper')\n\n// put buy button in buy catery page\nfunction matchString() {\n    var uri = window.location.href\n    var data1 = uri.split('/')\n    var dd = data1[3].split('-')\n    var ee = dd.length\n    var st = \"\"\n    for (i = 0; i < ee; i++) {\n        var string = st = st + \" \" + dd[i]\n    }\n    title = $('.page-header')[0]\n    var string2 = title.innerText.toLowerCase();\n    if (string2 == \"truck / tanker / trailor\") {\n        var result = string.match(\"truck tanker trailor\");\n\n    }\n    else {\n        var result = string.match(string2);\n    }\n    // console.log(\"Output : \" + result);\n    if (result[0] != \"\") {\n\n        $('.page-header-wrapper').append(\n            $(document.createElement('button')).prop({\n                type: 'button',\n                innerHTML: 'Buy Now',\n                class: 'btn btn-primary',\n                id: 'buy'\n            })\n        );\n    }\n} matchString();\n\n$('#buy').on('click', function () {\n    location.href = \"/equipment-inquiry\"\n})",
  "modified": "2023-05-29 11:20:01.646817",
  "name": "Website Script"
 }
]